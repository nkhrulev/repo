<!DOCTYPE HTML>
<html>
	<head>
		<title>nicols co</title>
		<meta charset='utf-8'/>
		<meta name='viewport' content='width=device-width, initial-scale=1'/>
		<meta name='description' content='Разработка нового, доработка и поддержка уже существующего функционала, обучение программированию на всех возможных языках. Как добиваться успеха в программировании, наслаждаясь жизнью, при этом работая не 12 часов, а головой.'/>
		<meta name='keywords' content='html5, bootstrap, navbar, разработка, angular, dotnet, startup, программирование, администрирование, как сбросить пароль windows 8, как сбросить пароль windows 10, hot to wix error 40, itunes error 4014, itunes error 4013, хайп, блокчейн, биткоин, pivot, mdx, window functions'/>
		<meta name="google-site-verification" content="Qlu6INt4gikwmVM8uSMy7wEV2NbAcxlL-ZgCuUPrJ-Y" />
		<meta name="yandex-verification" content="7e246d1d1e188569" />
		<link rel="shortcut icon" href="../../../../favicon.ico">
		<link rel="icon" type="image/png" href="../../../../favicon.png" sizes="32x32">
		<link rel="apple-touch-icon" href="../../../../favicon.png" sizes="32x32">
		<link href='../../../css/css.css' rel='stylesheet'/>
		<link href='../../../css/bootstrap.css' rel='stylesheet'/>
		<script src='../../../js/js.js'></script>
	</head>
	<body>
		<div class='container body-content' id='body-content'>
			<nav class='navbar navbar-expand-lg navbar-light bg-white sticky-top border-bottom'>
				<button class='navbar-toggler navbar-toggler-right' type='button' onclick='load_nav()' data-toggle='collapse' data-target='.navbar-collapse' aria-controls='navbar-collapse' aria-expanded='false' aria-label='Toggle navigation'><span class='navbar-toggler-icon'></span></button>
				<div>
					<a class='navbar-brand icon fa-home' href='../../../index.html'></a>
					<a class='navbar-brand' href='#' onclick='load_lang()'><span class='flag ru' id='flag'>flag ru</span></a>
				</div>
				<div class='collapse navbar-collapse' id='navbar-collapse'>
					<ul class='navbar-nav mr-auto mt-2 mt-md-0'>
						<li class='nav-item'><a class='nav-link' href='../about.html'>Обо мне</a></li>
						<li class='nav-item'><a class='nav-link' href='../contact.html'>Контакты</a></li>
						<li class='nav-item'><a class='nav-link' href='../work.html'>Разработка</a></li>
						<li class='nav-item'><a class='nav-link' href='../literature.html'>Литература</a></li>
					</ul>
					<form class='form-inline my-2 my-lg-0'>
						<input class='form-control mr-sm-2' type='search' placeholder='Поиск' id='search_text'/>
						<button class='btn btn-outline-success my-2 my-sm-0' type='button' onclick='search()' id='search_button'>Поиск</button>
					</form>
				</div>
			</nav>
			
			<script>comeback();</script>
			
			<a href='#' onclick='exam_70483()'>Экзамен 70-483 (Программирование на языке C#)</a><h3>Как получить доступ к закрытому члену другого класса.</h3><p>Для извлечения приватной переменной, используйте следующий код:</p><pre>using System.Reflection;<br /><br />internal sealed class SecretKeeper {<br />	private int _secret = 42;<br />}<br /><br />FieldInfo fieldInfo = typeof(SecretKeeper).GetField("_secret", BindingFlags.Instance | BindingFlags.NonPublic);<br />int result = (int)fieldInfo.GetValue(new SecretKeeper();<br /><br />// output 42</pre><script>publish_date();</script><hr /><h3>Клиент Rest.</h3><p>Чтобы работать с клиентом Rest, вам необходимо создать проект «Консольное приложение (.NET Core)». Установить пару пакетов и реализовать следующие функции:<br /><br /><b>Package Manager Console:</b></p><pre>Install-Package Microsoft.NETCore.App -Version 2.0.0<br />Install-Package System.Runtime.Serialization.Json -Version 4.3.0<br />Install-Package System.Runtime.Serialization.Primitives -Version 4.3.0</pre><p><b>Program.cs:</b></p><pre>using System;<br />using System.Collections.Generic;<br />using System.Net.Http;<br />using System.Net.Http.Headers;<br />using System.Runtime.Serialization.Json;<br />using System.Threading.Tasks;<br /><br />namespace WebAPIClient<br />{<br />	class Program<br />	{<br />		static void Main(string[] args)<br />		{<br />			var repositories = ProcessRepositories().Result;<br /><br />			foreach (var repo in repositories)<br />				Console.WriteLine(String.Format("Year: {0}, Month: {1}, Fact: {2}, Plan: {3}", repo.Period.Name, repo.Period.Month, repo.Fact, repo.Plan));<br /><br />			Console.ReadKey();<br />		}<br /><br />		private static async Task<List<Data>> ProcessRepositories()<br />		{<br />			var client = new HttpClient();<br />			client.DefaultRequestHeaders.Accept.Clear();<br />			client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue("application/json"));<br />			client.DefaultRequestHeaders.Add("User-Agent", ".NET Foundation Repository Reporter");<br /><br />			var serializer = new DataContractJsonSerializer(typeof(List<Data>));<br />			var streamTask = client.GetStreamAsync("http://your_api_service");<br />			var repositories = serializer.ReadObject(await streamTask) as List<Data>;<br />			return repositories;<br />		}<br />	}<br />}</pre><p><b>Data.cs:</b></p><pre>using System;<br />using System.Runtime.Serialization;<br /><br />namespace WebAPIClient<br />{<br />	[DataContract(Name = "repo")]<br />	public class Data<br />	{<br />		[DataMember(Name = "period")]<br />		public Period Period { get; set; }<br />		[DataMember(Name = "fact")]<br />		public decimal Fact { get; set; }<br />		[DataMember(Name = "plan")]<br />		public decimal Plan { get; set; }<br />	}<br /><br />	[DataContract(Name = "period")]<br />	public class Period<br />	{<br />		[DataMember(Name = "name")]<br />		public String Name { get; set; }<br />		[DataMember(Name = "month")]<br />		public Int32 Month { get; set; }<br />	}<br />}</pre><script>publish_date();</script><hr /><h3>Элвис оператор.</h3><pre>var e = new Elvis();<br />Console.WriteLine(e<b style='color:red;'>?.</b>ElvisString <b style='color:red;'>??</b> "null");		//	ElvisString<br />Console.WriteLine(e<b style='color:red;'>?.</b>ElvisStringNull <b style='color:red;'>??</b> "null");	//	null<br /><br />class Elvis<br />{<br />	public String ElvisString = "ElvisString";<br />	public String ElvisStringNull;<br />}</pre><script>publish_date();</script><hr /><h3>Упаковка и Распаковка.</h3><p>Ниже приведен простой пример упаковки и распаковки.</p><pre>#region Boxing_Unboxing<br />Int32 b = 0;<br />Object o = b;       // Boxing<br />Int32 u = (Int32)o; // Unboxing<br />#endregion</pre><script>publish_date();</script><hr /><h3>Статические классы и экземпляры.</h3><p>Итак, для чего необходимо использовать статические классы, методы и поля ?.<br />Если вы собираетесь реализовать объект реального мира, используйте обычный класс (<b>not static</b>). Например, автомобиль с такими атрибутами, как: цвет, скорость, размеры и т.д.<br />Если стоит задача вывести некоторые действия на экран или реализовать загрузку данных в Excel, <b>используйте статические классы</b>, поля и методы.<br /><b>Пример вызова статического класса:</b></p><pre>StaticClass.StaticMethod;</pre><p><b>Пример вызова экземплярного класса:</b></p><pre>InstanceClass ic = new InstanceClass();<br />ic.GetInstanceMethod();</pre><script>publish_date();</script><hr /><h3>Сравнение объектов и типов.</h3><pre>#region Equality<br />Object a1 = 5;<br />Object a2 = 5;<br />string b1 = "a";<br />string b2 = "a";<br />Object c1 = "b";<br />Object c2 = "b";<br />int d1 = 1;<br />int d2 = 1;<br /><br />Console.WriteLine("a1 == a2: " + (a1 == a2));   // False<br />Console.WriteLine("b1 == b2: " + (b1 == b2));   // True<br />Console.WriteLine("c1 == c2: " + (c1 == c2));   // True<br />Console.WriteLine("d1 == d2: " + (d1 == d2));   // True<br /><br />Console.WriteLine("a1 == a2: " + (a1.Equals(a2)));   // True<br />Console.WriteLine("b1 == b2: " + (b1.Equals(b2)));   // True<br />Console.WriteLine("c1 == c2: " + (c1.Equals(c2)));   // True<br />Console.WriteLine("d1 == d2: " + (d1.Equals(d2)));   // True<br /><br />Console.WriteLine("a1 == a2: " + (ReferenceEquals(a1, a2)));   // False<br />Console.WriteLine("b1 == b2: " + (ReferenceEquals(b1, b2)));   // True<br />Console.WriteLine("c1 == c2: " + (ReferenceEquals(c1, c2)));   // True<br />Console.WriteLine("d1 == d2: " + (ReferenceEquals(d1, d2)));   // False<br />#endregion</pre><script>publish_date();</script><hr /><h3>Параметры Ref и Out.</h3><pre>The ref and out parameters to get a more complex value. <br />	ref: the initialized value is passed; <br />	out: An uninitialized value is passed. <br />)</pre><p>В качестве примера: я использую класс для выгрузки документа Excel. <br />Он проверяет только те значения, которые не попадают в указанный диапазон, обрезаются и записываются в параметр (ref или out). <br /><br />Пример использования <b>ref</b> параметра:</p><pre>string error = "";<br />var excel = new ExcelPackage(FileContent);<br />var dt = excel.ToDataTable(ref error);<br /><br />public static DataTable ToDataTable(this ExcelPackage package, ref string error)<br />{<br />	// TODO: Your logic<br />		error += value + ", ";<br />	<br />	return table;<br />}</pre><p>Пример использования <b>out</b> параметра:</p><pre>string error;<br />var excel = new ExcelPackage(FileContent);<br />var dt = excel.ToDataTable(out error);<br /><br />public static DataTable ToDataTable(this ExcelPackage package, out string error)<br />{<br />	error = "";<br />	<br />	// TODO: Your logic<br />		error += value + ", ";<br />	<br />	return table;<br />}</pre><script>publish_date();</script><hr /><h3>Состояние сеанса веб-форм.</h3><p>Не так давно мне была поставлена следующая задача. Необходимо было исправить редко возникающую ошибку.<br /><br />Невозможно сериализовать состояние сеанса. В режиме <b>'StateServer'</b> и <b>'SQLServer'</b> ASP.NET будет сериализовать объекты состояния сеанса, и в результате не разрешаются объекты, не связанные с сериализацией, или объекты MarshalByRef. Такое же ограничение применяется, если аналогичная сериализация выполняется в пользовательском хранилище состояний сеанса в режиме 'Custom'.<br /><br />Немного подумав, я начал его реализовывать. Основная проблема заключалась в том, чтобы написать сеанс из DataSet. Поскольку DataSet был довольно тяжелым, соответствующая ошибка возникала время от времени. Было решено сохранить фильтры. Примеры кода также приведены ниже.</p><pre>// C#:<br />protected void Page_Load(object sender, EventArgs e)<br />{<br />	if (!IsPostBack)<br />	{<br />		var c = new CSessionHelper();<br />		c.ClearSession();<br />	}<br /><br />	if (string.IsNullOrEmpty(Session["uni_login"].ToString())) Response.Redirect(@"../login.aspx");<br />	if (!LoginHelper.IsAccessDoneToPage(Session["uni_login"].ToString(), Session["uni_login_type"].ToString())) Response.Redirect("../Default.aspx");<br /><br />	sc_clients.ConnectionString = "Server=" + Application["sql_server"] + "; Database=" + Application["sql_database"]; User ID=" + Session["uni_login"] + "; Password=" + Session["uni_password"];<br />	if (!IsPostBack)<br />	{<br />		if (sc_clients.State != ConnectionState.Open)<br />		{<br />			sc_clients.Open();<br />			bindDropDown();<br />			GetValueFilter();<br />			sc_clients.Close();<br />		}<br />	}<br />}<br /><br />private void GetValueFilter()<br />{<br />	try<br />	{<br />		SqlDataAdapter SqlAdapter = new SqlDataAdapter(string.Format("exec dbo.sp_your_name @UserLogin = '{0}', @Get = {1}", Session["uni_login"], true), sc_clients);<br />		DataTable dt = new DataTable();<br />		SqlAdapter.Fill(dt);<br /><br />		if (dt.Rows.Count > 0)<br />		{<br />			ddl_search_distributor.SelectedValue = dt.Rows[0][2].ToString();<br />			ddl_teadm.SelectedValue = dt.Rows[0][3].ToString();<br />			tbID.Text = dt.Rows[0][4].ToString();<br />			tbFIO.Text = dt.Rows[0][5].ToString();<br />			chb_view_only_active.Checked = Convert.ToBoolean(dt.Rows[0][6]);<br />		}<br /><br />		bindData(tbFIO.Text, Convert.ToInt32(ddl_teadm.SelectedValue), tbID.Text,<br />		Convert.ToInt32(ddl_search_distributor.SelectedValue));<br />	}<br />	catch (Exception ex)<br />	{<br />		error_label.Text = ex.Message;<br />	}<br />}<br /><br />private void UpdateValueFilter()<br />{<br />	try<br />	{<br />		if (sc_clients.State != ConnectionState.Open) sc_clients.Open();<br />		using (SqlCommand command = sc_clients.CreateCommand())<br />		{<br />			command.CommandText = string.Format("exec dbo.sp_your_name @UserLogin = '{0}', @Distributor = {1}, @Team = {2}, @CodeTP = '{3}', @FIO = '{4}', @Flag = {5}",<br />			Session["uni_login"], Convert.ToInt32(ddl_search_distributor.SelectedValue), Convert.ToInt32(ddl_teadm.SelectedValue), tbID.Text, tbFIO.Text, chb_view_only_active.Checked);<br />			command.ExecuteNonQuery();<br />		}<br />		sc_clients.Close();<br />	}<br />	catch (Exception ex)<br />	{<br />		error_label.Text = ex.Message;<br />	}<br />}<br /><br />private void bindData(string FIO, int team, string ID, int id_distributor)<br />{<br />	if (ds_representative1.v_representative.Count > 8000)<br />	{<br />		dg_representative.Visible = false;<br />		error_label.Font.Size = 14;<br />		error_label.Text = "The session contains too large a set of data, for correct unloading use the filter.";<br />	}<br />	else<br />	{<br />		// There was this mistake.<br />		Session["ds_representative"] = ds_representative1;<br />		error_label.Text = "";<br />		error_label.Font.Size = 10;<br />		dg_representative.Visible = true;<br />	}<br />	UpdateValueFilter();<br />}<br /><br />// T-SQL:<br />USE [YourDbName]<br />GO<br /><br />SET ANSI_NULLS ON<br />GO<br /><br />SET QUOTED_IDENTIFIER ON<br />GO<br /><br />SET ANSI_PADDING ON<br />GO<br /><br />CREATE TABLE [dbo].[YourTableName](<br />	[Id] [int] IDENTITY(1,1) NOT NULL,<br />	[UserLogin] [varchar](50) NOT NULL,<br />	[Distributor] [int] NULL,<br />	[Team] [int] NULL,<br />	[CodeTP] [varchar](500) NULL,<br />	[FIO] [varchar](500) NULL,<br />	[Flag] [bit] NULL,<br />	CONSTRAINT [PK_representative_report_filter] PRIMARY KEY CLUSTERED<br />(<br />	[Id] ASC<br />)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY],<br />	CONSTRAINT [UQ__represen__7F8E8D5E0F3A8FCB] UNIQUE NONCLUSTERED<br />(<br />	[UserLogin] ASC<br />)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]<br />) ON [PRIMARY]<br /><br />GO<br /><br />SET ANSI_PADDING OFF<br /><br />GO<br /></pre><p>Смысл заключается в следующем:<br />При авторизации мы пишем в таблицу исходные данные, если их нет, и мы берем их в нужные нам элементы управления. Если в базе данных есть запись, мы просто извлекаем данные из базы данных и заполняем ее данными. Как вы можете видеть, все довольно просто.<br /><br />Старайтесь сразу писать на MVC.</p><script>publish_date();</script><hr /><h3>API яндекс карт.</h3><p>Как работает API-интерфейс Yandex Map ?. Есть файл - mapReport.js, в нем есть функция getMapsModal. Функция извлекает метод getMapsModal из другого файла - mapReportService.js, который передает управление контроллеру MapController.cs для извлечения данных. После обработки данных мы передаем объект данных в представление таким образом <b>$scope.maps = data;</b></p><pre>// mapReport.js<br />var getMapsModal = function (ObjectType) {<br />	mapReportService.getMapsModal(ObjectType).then(function (maps) {<br />	var data = [];<br />	maps.forEach(function (d, i) {<br />		data.push({<br />			mapId: d.mapId,<br />			objectType: d.objectType,<br />			objectName: d.objectName,<br />			objectId: d.objectId,<br />			color: d.color,<br />			geometry: {<br />				type: 'Polygon',<br />				coordinates: d.coordinates == null ? [] : JSON.parse(d.coordinates)<br />			},<br />			properties: {<br />				mapId: d.mapId,<br />				objectName: d.objectName,<br />				objectType: d.objectType,<br />				objectId: d.objectId,<br />				color: d.color<br />			}<br />		});<br />	});<br />	$scope.maps = data;<br />	});<br />};<br /><br />// mapReportService.js<br />var _mapsModal = [];<br />var _getMapsModal = function (ObjectType) {<br />	var deferred = $q.defer();<br />	$http.get("/api/maps/" + ObjectType)<br />	.then(function (result) {<br />		angular.copy(result.data, _mapsModal);<br />		deferred.resolve(result.data);<br />	},<br />	function (error) {<br />		deferred.reject(error.data);<br />	});<br />	return deferred.promise;<br />};<br /><br />return {<br />mapsModal: _mapsModal,<br />	getMapsModal: _getMapsModal,<br /><br />};<br /><br />// MapController.cs<br />[Route("{ObjectType:int}")]<br />public HttpResponseMessage GetMapsModal(int ObjectType)<br />{<br />	var currentUser = context.Users.FirstOrDefault(u =&gt; u.Login == RequestContext.Principal.Identity.Name);<br />	if (currentUser == null)<br />		return Request.CreateResponse(HttpStatusCode.Unauthorized, new { message = "Error authentication." });<br /><br />	var maps = context.Maps.Where(m =&gt; m.ObjectType == (ObjectType)ObjectType && m.Coordinates != null).Select(getMapProjection).ToList();<br /><br />	return Request.CreateResponse(HttpStatusCode.Created, maps);<br />}<br /><br />// And in the presentation made: ViewMap.cshtml<br />&lt;ya-geo-object ng-repeat="map in maps" ya-source="map" ya-options="{fillColor: '{{map.color}}',strokeColor: '#0000FF', opacity: 0.4, strokeWidth: 1.5}"&gt;&lt;/ya-geo-object&gt;</pre><script>publish_date();</script><hr /><h3>Html разметка.</h3><p>Прошло ровно два года, и я снова создаю свою стандартную папку с именем «@n.khrulev» и заполняю ее контентом. Я начну в соответствии со стандартом:</p><pre>&lt;html&gt;<br />&lt;head&gt;<br />	&lt;title&gt;HTML 5&lt;/title&gt;<br />&lt;/head&gt;<br />&lt;body&gt;<br />	&lt;h1&gt;HTML 5&lt;/h1&gt;<br />&lt;/body&gt;<br />&lt;/html&gt;<br /></pre><p>Я не буду описывать ничего, что делает тег h1, и зачем нужен тег title или body. Вся литература доступна по следующему <a href='http://htmlbook.ru' target='_blank'>адресу</a>.<br />После создания разметки добавьте стили в файл: style.css</p><pre>#html5{<br />	text-align: center;<br />}<br /></pre><p>В html-коде мы подключаем внешний файл со стилями:</p><pre>&lt;link rel = "stylesheet" href="css/style.css" /&gt;</pre><p>Давайте добавим простой скрипт (js.js), который будет приветствовать нас на нашем сайте:</p><pre>function helloHTML5(){<br />	var d = new Date();<br />	alert("Today: " + d.getDate() + "." + (d.getMonth() + 1) + "." + d.getFullYear());<br />	document.getElementById("allres").innerHTML = "all rights reserved. " + d.getFullYear() + " &copy;";<br />}</pre><p>Этот скрипт возвращает текущую дату и текущий год соответственно.<br />Разметка (index.html) имеет следующий вид:</p><pre>&lt;html&gt;<br />&lt;head&gt;<br />	&lt;title&gt;HTML 5&lt;/title&gt;<br />	&lt;link rel="stylesheet" href="css/style.css" /&gt;<br />	&lt;script type="text/javascript" src="scripts/js.js"&gt;&lt;/script&gt;<br />&lt;/head&gt;<br />&lt;body onload='helloHTML5()'&gt;<br />	&lt;h1 id='html5'&gt;HTML 5&lt;/h1&gt;<br />	&lt;p id='allres'&gt;&lt;/p&gt;<br />&lt;/body&gt;<br />&lt;/html&gt;<br /></pre><p>Стили (style.css):</p><pre>#html5{<br />	text-align: center;<br />}<br /><br />#allres{<br />	text-align: center;<br />	font-family: cursive;<br />}</pre><p>Пока что мы ничего не сделали. Итак, начнем. Давайте сделаем незначительные изменения в нашей разметке следующим образом:</p><pre>&lt;html&gt;<br />&lt;head&gt;<br />	&lt;title&gt;HTML 5&lt;/title&gt;<br />	&lt;link rel="stylesheet" href="css/style.css" /&gt;<br />	&lt;script type="text/javascript" src="scripts/jquery.min.js"&gt;&lt;/script&gt;<br />	&lt;script type="text/javascript" src="scripts/pb.js"&gt;&lt;/script&gt;<br />	&lt;script type="text/javascript" src="scripts/js.js"&gt;&lt;/script&gt;<br />&lt;/head&gt;<br />&lt;body&gt;<br />	&lt;div id="container" &gt;&lt;/div&gt;<br />		&lt;div id='PreLoader'&gt;<br />		&lt;a href='http://htmlbook.ru/html5' target='_blank'&gt;&lt;h1 id='html5'&gt;&lt;/h1&gt;&lt;/a&gt;<br />		&lt;p id='today'&gt;&lt;/p&gt;<br />		&lt;p id='allres'&gt;&lt;/p&gt;<br />	&lt;/div&gt;<br />&lt;/body&gt;<br />&lt;/html&gt;<br /></pre><p>Давайте изменим стили:</p><pre>#PreLoader{<br />	display: none;<br />	position: fixed;<br />    	top: 50%;<br />    	left: 50%;<br />    	-webkit-transform: translate(-50%, -50%);<br />    	transform: translate(-50%, -50%);<br />}<br /><br />#container{<br />	position: fixed;<br />    	top: 50%;<br />    	left: 50%;<br />    	-webkit-transform: translate(-50%, -50%);<br />    	transform: translate(-50%, -50%);<br />}<br /><br />#allres,<br />#today<br />{<br />	font-family: cursive;<br />}<br /><br />#container {<br />	width: 175px;<br />	height: 175px;<br />	position: relative;<br />}</pre><p>Изменим скрипт:</p><pre>$(window).on('load', function() {<br />	var bar = new ProgressBar.Circle(container, {<br />		color: '#aaa',<br />		strokeWidth: 3,<br />		trailWidth: 1,<br />		easing: 'easeInOut',<br />		duration: 2500,<br />		text: { autoStyleContainer: false },<br />		from: { color: '#aaa', width: 1 },<br />		to: { color: '#555', width: 3 },<br />		step: function(state, circle) {<br />			circle.path.setAttribute('stroke', state.color);<br />			circle.path.setAttribute('stroke-width', state.width);<br /><br />			var value = Math.round(circle.value() * 100);<br />			if (value === 0)<br />				circle.setText('');<br />			else<br />				circle.setText(value + "%");<br />	    }<br />	});<br />	<br />	bar.text.style.fontFamily = '"Raleway", Helvetica, sans-serif';<br />	bar.text.style.fontSize = '2rem';<br />	bar.animate(1.0);<br />    	var $preloader = $('#container');<br />	$preloader.delay(2200).fadeOut('slow');<br />	setTimeout(function() { GetDate() }, 2900);<br />});<br /><br />function GetDate(){<br />	var d = new Date();<br />	document.getElementById("today").innerHTML = "Today: " + d.getDate() + "." + (d.getMonth() + 1) + "." + d.getFullYear();<br />	document.getElementById("html5").innerHTML = "HTML 5";<br />	document.getElementById("allres").innerHTML = "all rights reserved. " + d.getFullYear() + " &copy;";<br />	document.getElementById("PreLoader").style.display="block";<br />}<br /></pre><p>Индикатор выполнения загружен, и больше ничего не видно. После того, как панель загрузилась, я скрою ее и покажу остальную часть содержимого.</p><script>publish_date();</script><hr /><h3>Удаляем командный проект.</h3><p>Чтобы удалить командный проект, выполните следующие действия (необходимо войти в TFS):<br />1. Выберите сервер, который будет выглядеть примерно так: http://YOUR_NAME/visualstudio.com<br />2. Затем перейдите к настройкам.<br />3. Мы выбираем необходимый проект, в данном случае он один, их может быть гораздо больше.<br />4. Введите имя проекта для удаления.<br />5. Успешно - проект удален.</p><script>publish_date();</script><hr /><h3>Автозаполнение.</h3><p>Сегодня мы поговорим о том, что такое автозаполнение. Начнем с разметки, создаем пустую страницу, например, называем ее «idx.aspx». Добавляем следующий код:</p><pre><%@ Page Language="C#" AutoEventWireup="true" CodeBehind="idx.aspx.cs" Inherits="WebAppTest.idx" %><br />&lt;html&gt;<br />&lt;head&gt;<br />  &lt;title&gt;&lt;/title&gt;<br />    &lt;link rel="stylesheet" href="..//Content/jquery-ui.css"&gt;<br />    &lt;script src="..//Scripts/jquery-1.10.2.js"&gt;&lt;/script&gt;<br />    &lt;script src="..//Scripts/jquery-ui.js"&gt;&lt;/script&gt;<br />    &lt;script&gt;<br />        $(function(){<br />            var lst_reports = <%= getJson() %>;<br />            $("#reports").autocomplete({<br />                source: lst_reports<br />            });<br />        });<br />    &lt;/script&gt;<br />&lt;/head&gt;<br />&lt;body&gt;<br />    &lt;div&gt;<br />        &lt;b&gt;List reports: &lt;/b&gt;<br />        &lt;input id="reports" placeholder="Input name report..." autofocus /&gt;<br />    &lt;/div&gt;<br />&lt;/body&gt;<br />&lt;/html&gt;<br /></pre><p>Смысл заключается в следующем, добавляются три файла:</p><pre>&lt;link rel="stylesheet" href="..//Content/jquery-ui.css"><br />&lt;script src="..//Scripts/jquery-1.10.2.js">&lt;/script><br />&lt;script src="..//Scripts/jquery-ui.js">&lt;/script><br /></pre><p>Эти файлы находятся в папках проекта (Content and Scripts соответственно).<br />Перейдем к CodeBehind и добавим код ниже:</p><pre>using System;<br />using System.Collections.Generic;<br />using System.Linq;<br />using System.Text.RegularExpressions;<br />using System.Web;<br />using System.Web.Script.Serialization;<br />using System.Web.UI;<br />using System.Web.UI.WebControls;<br /><br />namespace WebAppTest<br />{<br />    public partial class idx : System.Web.UI.Page<br />    {<br />        protected void Page_Load(object sender, EventArgs e) { }<br /><br />        public string getJson()<br />        {<br />            List<string> r = new List<string>();<br />            for (int i = 0; i < 1000; i++)<br />                r.Add(i.ToString());<br />            <br />            return (new JavaScriptSerializer()).Serialize(r);<br />        }<br />    }<br />}</pre><p>И запустим проект.<br />Как это работает ?.<br />Метод getJson() передает массив формы клиенту: ["1", "2", ..., "999"] (здесь могут быть любые другие данные для вашего поиска). После ввода требуемого значения, если значение не находится в нашем массиве, например, мы вводим 1000, тогда раскрывающийся список будет пустым, иначе он выведет результат, удовлетворяющий заданным условиям. Функция автозаполнения просто фильтрует элементы, которые нам нужны.</p><script>publish_date();</script><hr /><h3>ASP.NET.MVC 5.</h3><p>В этой статье я хочу поделиться с вами следующим интересным проектом, а именно ASP.NET.MVC 5. Мы напишем его на C# 6.0 framework 4.6.1. Запустите Visual Studio 2015 (это не имеет значения Ultimate / Professional) с пакетом обновления не менее 2. В меню Visual Studio выберите Файл-Новый-Проект. Выберите веб-приложение Visual C#-Web-ASP.NET (. NET Framework) из установленных шаблонов и нажмите кнопку «ОК». В параметрах «Изменение атрибута» вы должны выбрать режим без аутентификации. После создания проекта, удалите содержимое папки Controllers, а также папку Views.Home. Перейдем к ссылкам, щелкнув на них правой кнопкой мыши и выбрав «Manage NuGet Packages ...» в поиске, чтобы найти Entity Framework и установить его (текущая версия для текущей даты - 6.1.3). Мы соглашаемся со всеми условиями. После добавления Entity Framework добавим три класса в папку «Модели» со следующей структурой:</p><pre>public class Book<br />{<br />	public int Id { get; set; }<br />	public string Name { get; set; }<br />	public string Author { get; set; }<br />	public int Price { get; set; }<br />}<br /><br />public class Purchase<br />{<br />	public int PurchaseId { get; set; }<br />	public string Person { get; set; }<br />	public string Address { get; set; }<br />	public int BookId { get; set; }<br />	public DateTime Date { get; set; }<br />}<br /><br />public class BookContext : DbContext<br />{<br />	public DbSet<Book> Books { get; set; }<br />	public DbSet<Purchase> Purchases { get; set; }<br />}<br /></pre><p>Перейдем в папку App_Data и создадим нашу базу данных следующим образом: Выберите App_Data, добавьте новый элемент базы данных SQL Server, назовите «BookStore». Давайте откроем базу данных и начнем работать с ней. Добавим пару таблиц со следующей структурой:</p><pre>Books:<br />CREATE TABLE [dbo].[Books] (<br />    [Id]       INT            IDENTITY (1, 1) NOT NULL,<br />    [Name]     NVARCHAR (MAX) NULL,<br />    [Author]   NVARCHAR (MAX) NULL,<br />    [Price]    INT            NOT NULL,<br />    [Download] NVARCHAR (MAX) NULL,<br />    CONSTRAINT [PK_dbo.Books] PRIMARY KEY CLUSTERED ([Id] ASC)<br />);<br /><br />Purchases:<br />CREATE TABLE [dbo].[Purchases] (<br />    [PurchaseId] INT            IDENTITY (1, 1) NOT NULL,<br />    [Person]     NVARCHAR (MAX) NULL,<br />    [Address]    NVARCHAR (MAX) NULL,<br />    [BookId]     INT            NOT NULL,<br />    [Date]       DATETIME       NOT NULL,<br />    CONSTRAINT [PK_dbo.Purchases] PRIMARY KEY CLUSTERED ([PurchaseId] ASC)<br />);</pre><p>Заполним таблицу «dbo.Books» данными, например:</p><table border='1'><tr><th>Id</th><th>Name</th><th>Author</th><th>Price</th></tr><tr><td>1</td><td>Война и мир</td><td>Л. Толстой</td><td>220</td></tr><tr><td>2</td><td>Отцы и дети</td><td>И. Тургенев</td><td>180</td></tr><tr><td>3</td><td>Чайка</td><td>А. Чехов</td><td>150</td></tr><tr><td>4</td><td>C# 4.0</td><td>G. Schildt</td><td>385</td></tr><tr><td>5</td><td>C# 4.5</td><td>R. Richter</td><td>500</td></tr></table><br /><p>Вернемся в папку «Контроллеры» и добавим новый контроллер «MVC 5 Controller с представлениями, используя Entity Framework». После этого Visual Studio создаст контроллер с представлениями, нам нужно будет только запустить проект и посмотреть, как он работает. Нажмите F5. В работоспособности вы можете быть уверены, что все работает как часы. Если интересно поиграйтесь с добавлением новых данных, редактированием, удалением и изменением. Ну, я думаю, что код контроллера должен быть предоставлен для общего обзора:</p><pre>using System;<br />using System.Collections.Generic;<br />using System.Data;<br />using System.Data.Entity;<br />using System.Linq;<br />using System.Threading.Tasks;<br />using System.Net;<br />using System.Web;<br />using System.Web.Mvc;<br />using BookStoreAuto.Models;<br /><br />namespace BookStoreAuto.Controllers<br />{<br />    public class HomeController : Controller<br />    {<br />        private BookContext db = new BookContext();<br /><br />        // GET: Home<br />        public async Task<ActionResult> Index()<br />        {<br />            return View(await db.Books.ToListAsync());<br />        }<br /><br />        // GET: Home/Details/5<br />        public async Task<ActionResult> Details(int? id)<br />        {<br />            if (id == null)<br />            {<br />                return new HttpStatusCodeResult(HttpStatusCode.BadRequest);<br />            }<br />            Book book = await db.Books.FindAsync(id);<br />            if (book == null)<br />            {<br />                return HttpNotFound();<br />            }<br />            return View(book);<br />        }<br /><br />        // GET: Home/Create<br />        public ActionResult Create()<br />        {<br />            return View();<br />        }<br /><br />        // POST: Home/Create<br />        // To protect from overposting attacks, please enable the specific properties you want to bind to, for <br />        // more details see http://go.microsoft.com/fwlink/?LinkId=317598.<br />        [HttpPost]<br />        [ValidateAntiForgeryToken]<br />        public async Task<ActionResult> Create([Bind(Include = "Id,Name,Author,Price")] Book book)<br />        {<br />            if (ModelState.IsValid)<br />            {<br />                db.Books.Add(book);<br />                await db.SaveChangesAsync();<br />                return RedirectToAction("Index");<br />            }<br /><br />            return View(book);<br />        }<br /><br />        // GET: Home/Edit/5<br />        public async Task<ActionResult> Edit(int? id)<br />        {<br />            if (id == null)<br />            {<br />                return new HttpStatusCodeResult(HttpStatusCode.BadRequest);<br />            }<br />            Book book = await db.Books.FindAsync(id);<br />            if (book == null)<br />            {<br />                return HttpNotFound();<br />            }<br />            return View(book);<br />        }<br /><br />        // POST: Home/Edit/5<br />        // To protect from overposting attacks, please enable the specific properties you want to bind to, for <br />        // more details see http://go.microsoft.com/fwlink/?LinkId=317598.<br />        [HttpPost]<br />        [ValidateAntiForgeryToken]<br />        public async Task<ActionResult> Edit([Bind(Include = "Id,Name,Author,Price")] Book book)<br />        {<br />            if (ModelState.IsValid)<br />            {<br />                db.Entry(book).State = EntityState.Modified;<br />                await db.SaveChangesAsync();<br />                return RedirectToAction("Index");<br />            }<br />            return View(book);<br />        }<br /><br />        // GET: Home/Delete/5<br />        public async Task<ActionResult> Delete(int? id)<br />        {<br />            if (id == null)<br />            {<br />                return new HttpStatusCodeResult(HttpStatusCode.BadRequest);<br />            }<br />            Book book = await db.Books.FindAsync(id);<br />            if (book == null)<br />            {<br />                return HttpNotFound();<br />            }<br />            return View(book);<br />        }<br /><br />        // POST: Home/Delete/5<br />        [HttpPost, ActionName("Delete")]<br />        [ValidateAntiForgeryToken]<br />        public async Task<ActionResult> DeleteConfirmed(int id)<br />        {<br />            Book book = await db.Books.FindAsync(id);<br />            db.Books.Remove(book);<br />            await db.SaveChangesAsync();<br />            return RedirectToAction("Index");<br />        }<br /><br />        protected override void Dispose(bool disposing)<br />        {<br />            if (disposing)<br />            {<br />                db.Dispose();<br />            }<br />            base.Dispose(disposing);<br />        }<br />    }<br />}<br /></pre><p>Все, что я написал: Создал три класса (Book, Purchase, BookContext), добавил 2 таблицы (dbo.Books, dbo.Purchases) и просто расставил флажки и указал путь к шаблону страницы при создании контроллера, на данном этапе я закончу эту статью. Все вопросы, которые вы можете задать присылайте <a href='mailto:hru91nik@mail.ru'>сюда</a>.</p><script>publish_date();</script><hr /><h3>Принципы SOLID.</h3><pre><b>S - Принцип единственной ответственности</b> {<br />	Делай модули меньше.<br />}<br /><b>O - Принцип открытости/закрытости</b> {<br />	Делай модули расширяемыми.<br />}<br /><b>L - Принцип подстановки Барбары Лисков</b> {<br />	Наследуйся правильно.<br />}<br /><b>I - Принцип разделения интерфейса</b> {<br />	Дроби интерфейсы.<br />}<br /><b>D - Принцип инверсии зависимостей</b> {<br />	Используй интерфейсы.<br />}</pre><script>publish_date();</script><hr /><h3>Основы C#.</h3><p>Если вы считаете себя компетентным специалистом, ответьте на следующие вопросы: <br />1. Что делает этот код ?.<br />2. Можете ли вы провести ревью кода ?.<br />3. Возможен ли рефакторинг ?.</p><pre>public static List<Period> ApplyLogicalAnd(Period dtPair, List<Period> justification)<br />{<br />    var justified = new List<Period>();<br />    var pieces = new Stack<Period>();<br />    pieces.Push(dtPair);<br /><br />    while (pieces.Count > 0)<br />    {<br />        var ipiece = pieces.Pop();<br />        foreach (var jpair in justification)<br />        {<br />            // justification affects time piece<br />            if (ipiece.Begin < jpair.End && ipiece.End > jpair.Begin)<br />            {<br />                if (ipiece.Begin >= jpair.Begin && ipiece.End <= jpair.End)<br />                {<br />                    // piece is inside<br />                    justified.Add(ipiece);<br />                }<br />                else<br />                {<br />                    DateTime jbegin;<br />                    DateTime jend;<br /><br />                    if (ipiece.Begin < jpair.Begin)<br />                    {<br />                        jbegin = jpair.Begin;<br />                        pieces.Push(new Period(ipiece.Begin, jpair.Begin));<br />                    }<br />                    else<br />                    {<br />                        jbegin = ipiece.Begin;<br />                    }<br />                    if (ipiece.End > jpair.End)<br />                    {<br />                        jend = jpair.End;<br />                        pieces.Push(new Period(jpair.End, ipiece.End));<br />                    }<br />                    else<br />                    {<br />                        jend = ipiece.End;<br />                    }<br /><br />                    if (jbegin != jend)<br />                    {<br />                        justified.Add(new Period(jbegin, jend));<br />                    }<br />                }<br />                // proceed with different pieces<br />                break;<br />            }<br />        }<br />    }<br /><br />    return justified;<br /><br />}</pre><p>Для тех, кто не считает себя таковыми, ответ ниже:</p><pre>using System;<br />using System.Collections.Generic;<br /><br />namespace ConsoleApp<br />{<br />    internal class Program<br />    {<br />		<br />	// Test right here, so as not to drag dependencies<br />        private static void Main(string[] args)<br />        {<br />            var workTime = new Period(new TimeSpan(9, 0, 0), new TimeSpan(18, 0, 0));<br />            var inside = new Period(new TimeSpan(10, 0, 0), new TimeSpan(11, 0, 0));<br />            var outside = new Period(new TimeSpan(08, 0, 0), new TimeSpan(19, 0, 0));<br />            var includesStart = new Period(new TimeSpan(08, 0, 0), new TimeSpan(10, 0, 0));<br />            var includesEnd = new Period(new TimeSpan(15, 0, 0), new TimeSpan(20, 0, 0));<br />            var later = new Period(new TimeSpan(20, 0, 0), new TimeSpan(21, 0, 0));<br />            var before = new Period(new TimeSpan(07, 0, 0), new TimeSpan(08, 0, 0));<br /><br />            var periods = new List<Period> {<br />                inside, outside, includesStart, includesEnd, later, before };<br /><br />            Console.WriteLine("New");<br />            foreach (var period in ApplyLogicalAnd2(workTime, periods))<br />                Console.WriteLine(period);<br />            Console.WriteLine("Old");<br />            foreach (var period in ApplyLogicalAnd(workTime, periods))<br />                Console.WriteLine(period);<br /><br />            Console.Read();<br />        }<br /><br />        // New version<br />        internal static IEnumerable<Period> ApplyLogicalAnd2(Period thePeriod, IEnumerable<Period> periods)<br />        {<br />            var crossings = new List<Period>();<br />            foreach (var period in periods)<br />                FindCrossings(thePeriod, crossings, period);<br />            return crossings;<br />        }<br /><br />        private static void FindCrossings(Period thePeriod, IList<Period> crossings, Period period)<br />        {<br />            if (thePeriod.IsInside(period) || period.IsInside(thePeriod))<br />                crossings.Add(period);<br />            else if (period.IncludesStart(thePeriod))<br />                crossings.Add(new Period(thePeriod.Start, period.End));<br />            else if (period.IncludesEnd(thePeriod))<br />                crossings.Add(new Period(period.Start, thePeriod.End));<br />        }<br /><br />        // Original code<br />	// When studying, we understand that we are looking for the intersection of an interval with a list of intervals.<br />        public static List<Period> ApplyLogicalAnd(Period dtPair, List<Period> justification)<br />        {<br />            var justified = new List<Period>();<br />            var pieces = new Stack<Period>();<br />            pieces.Push(dtPair);<br /><br />            while (pieces.Count > 0)<br />            {<br />                var ipiece = pieces.Pop();<br />                foreach (var jpair in justification)<br />                {<br />                    // justification affects time piece<br />                    if (ipiece.Start < jpair.End && ipiece.End > jpair.Start)<br />                    {<br />                        if (ipiece.Start >= jpair.Start && ipiece.End <= jpair.End)<br />                        {<br />                            // piece is inside<br />                            justified.Add(ipiece);<br />                        }<br />                        else<br />                        {<br /><br />                            TimeSpan jbegin;<br />                            TimeSpan jend;<br /><br />                            if (ipiece.Start < jpair.Start)<br />                            {<br />                                jbegin = jpair.Start;<br />                                pieces.Push(new Period(ipiece.Start, jpair.Start));<br />                            }<br />                            else<br />                            {<br />                                jbegin = ipiece.Start;<br />                            }<br />                            if (ipiece.End > jpair.End)<br />                            {<br />                                jend = jpair.End;<br />                                pieces.Push(new Period(jpair.End, ipiece.End));<br />                            }<br />                            else<br />                            {<br />                                jend = ipiece.End;<br />                            }<br /><br />                            if (jbegin != jend)<br />                            {<br />                                justified.Add(new Period(jbegin, jend));<br />                            }<br />                        }<br />                        // proceed with different pieces<br />                        break;<br />                    }<br />                }<br />            }<br /><br />            return justified;<br />        }<br />    }<br /><br />    // TODO use generic or ready-made<br />    internal class Period<br />    {<br />        internal TimeSpan Start { get; private set; }<br />        internal TimeSpan End { get; private set; }<br /><br />        internal Period() { }<br /><br />	// TODO add the invariant: start> end<br />        internal Period(TimeSpan start, TimeSpan end)<br />        {<br />            Start = start;<br />            End = end;<br />        }<br /><br />        public override string ToString()<br />        {<br />            return Start + " " + End;<br />        }<br /><br />        internal bool IsInside(Period another)<br />        {<br />            return another.Start <= Start && End <= another.End;<br />        }<br /><br />        internal bool IncludesStart(Period another)<br />        {<br />            return another.Start < End && Start < another.Start && End < another.End;<br />        }<br /><br />        internal bool IncludesEnd(Period another)<br />        {<br />            return Start < another.End && another.Start < Start && another.End < End;<br />        }<br />    }<br />}</pre><script>publish_date();</script><hr /><h3>Оптимизация TabControl.</h3><p>Совсем недавно мне пришлось столкнуться со следующей задачей: «Необходимо сразу же заполнить TabControl списком». То есть, не использовать foreach. Я внедрил заполнение TabControl следующим образом:</p><pre>Linq = (<br />	From q In db.databasess<br />	Select New TabPage(q.name)<br />).ToList().Where(<br />	Function(x) GetColor(x.Text) = Color.Gray<br />).ToArray(); <br /><br />TabRole.TabPages.AddRange(Linq);</pre><p>Как вы видите, решение оказалось в несколько строк. А производительность при этом значительно возросла.</p><script>publish_date();</script>
			
			<script>foo();</script>
		</div>
	</body>
</html>