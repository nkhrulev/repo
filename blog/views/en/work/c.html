<!DOCTYPE HTML>
<html>
	<head>
		<title>nicols co</title>
		<meta charset='utf-8'/>
		<meta name='viewport' content='width=device-width, initial-scale=1'/>
		<meta name='description' content='Разработка нового, доработка и поддержка уже существующего функционала, обучение программированию на всех возможных языках. Как добиваться успеха в программировании, наслаждаясь жизнью, при этом работая не 12 часов, а головой.'/>
		<meta name='keywords' content='html5, bootstrap, navbar, разработка, angular, dotnet, startup, программирование, администрирование, как сбросить пароль windows 8, как сбросить пароль windows 10, hot to wix error 40, itunes error 4014, itunes error 4013, хайп, блокчейн, биткоин, pivot, mdx, window functions'/>
		<meta name="google-site-verification" content="Qlu6INt4gikwmVM8uSMy7wEV2NbAcxlL-ZgCuUPrJ-Y" />
		<meta name="yandex-verification" content="7e246d1d1e188569" />
		<link rel="shortcut icon" href="../../../../favicon.ico">
		<link rel="icon" type="image/png" href="../../../../favicon.png" sizes="32x32">
		<link rel="apple-touch-icon" href="../../../../favicon.png" sizes="32x32">
		<link href='../../../css/css.css' rel='stylesheet'/>
		<link href='../../../css/bootstrap.css' rel='stylesheet'/>
		<script src='../../../js/js.js'></script>
	</head>
	<body>
		<div class='container body-content' id='body-content'>
			<nav class='navbar navbar-expand-lg navbar-light bg-white sticky-top border-bottom'>
				<button class='navbar-toggler navbar-toggler-right' type='button' onclick='load_nav()' data-toggle='collapse' data-target='.navbar-collapse' aria-controls='navbar-collapse' aria-expanded='false' aria-label='Toggle navigation'><span class='navbar-toggler-icon'></span></button>
				<div>
					<a class='navbar-brand icon fa-home' href='../../../index.html'></a>
					<a class='navbar-brand' href='#' onclick='load_lang()'><span class='flag en' id='flag'>flag en</span></a>
				</div>
				<div class='collapse navbar-collapse' id='navbar-collapse'>
					<ul class='navbar-nav mr-auto mt-2 mt-md-0'>
						<li class='nav-item'><a class='nav-link' href='../about.html'>About</a></li>
						<li class='nav-item'><a class='nav-link' href='../contact.html'>Contact</a></li>
						<li class='nav-item'><a class='nav-link' href='../work.html'>Working out</a></li>
						<li class='nav-item'><a class='nav-link' href='../literature.html'>Literature</a></li>
					</ul>
					<form class='form-inline my-2 my-lg-0'>
						<input class='form-control mr-sm-2' type='search' placeholder='Search' id='search_text'/>
						<button class='btn btn-outline-success my-2 my-sm-0' type='button' onclick='search()' id='search_button'>Search</button>
					</form>
				</div>
			</nav>
			
			<script>comeback();</script>
			
			<a href='#' onclick='exam_70483()'>Exam 70-483 (Programming in C#)</a>
			<h3>Get access to a private member from another class.</h3>
				<p>To extract a private variable, you must use the following code:</p>
				<pre>
using System.Reflection;

internal sealed class SecretKeeper {
	private int _secret = 42;
}

FieldInfo fieldInfo = typeof(SecretKeeper).GetField("_secret", BindingFlags.Instance | BindingFlags.NonPublic);
int result = (int)fieldInfo.GetValue(new SecretKeeper();

// output 42
				</pre>
				<script>publish_date();</script>
				<hr />
			<h3>Rest client.</h3>
				<p>To work with Rest client, you need to create a project "Console App (.NET Core)". Utsanovt couple of packages, and implement the functionality below:<br /><br /><b>Package Manager Console:</b></p>
				<pre>
Install-Package Microsoft.NETCore.App -Version 2.0.0
Install-Package System.Runtime.Serialization.Json -Version 4.3.0
Install-Package System.Runtime.Serialization.Primitives -Version 4.3.0
				</pre>
				<p><b>Program.cs:</b></p>
				<pre>
using System;
using System.Collections.Generic;
using System.Net.Http;
using System.Net.Http.Headers;
using System.Runtime.Serialization.Json;
using System.Threading.Tasks;

namespace WebAPIClient
{
	class Program
	{
		static void Main(string[] args)
		{
			var repositories = ProcessRepositories().Result;
			foreach (var repo in repositories)
				Console.WriteLine(String.Format("Year: {0}, Month: {1}, Fact: {2}, Plan: {3}", repo.Period.Name, repo.Period.Month, repo.Fact, repo.Plan));
			Console.ReadKey();
		}
		private static async Task<List<Data>> ProcessRepositories()
		{
			var client = new HttpClient();
			client.DefaultRequestHeaders.Accept.Clear();
			client.DefaultRequestHeaders.Accept.Add(new MediaTypeWithQualityHeaderValue("application/json"));
			client.DefaultRequestHeaders.Add("User-Agent", ".NET Foundation Repository Reporter");
			var serializer = new DataContractJsonSerializer(typeof(List<Data>));
			var streamTask = client.GetStreamAsync("http://your_api_service");
			var repositories = serializer.ReadObject(await streamTask) as List<Data>;
			return repositories;
		}
	}
}
				</pre>
				<p><b>Data.cs:</b></p>
				<pre>
using System;
using System.Runtime.Serialization;

namespace WebAPIClient
{
	[DataContract(Name = "repo")]
	public class Data
	{
		[DataMember(Name = "period")]
		public Period Period { get; set; }
		[DataMember(Name = "fact")]
		public decimal Fact { get; set; }
		[DataMember(Name = "plan")]
		public decimal Plan { get; set; }
	}
	[DataContract(Name = "period")]
	public class Period
	{
		[DataMember(Name = "name")]
		public String Name { get; set; }
		[DataMember(Name = "month")]
		public Int32 Month { get; set; }
	}
}
				</pre>
				<script>publish_date();</script>
				<hr />
			<h3>Elvis operator.</h3>
				<pre>
var e = new Elvis();
Console.WriteLine(e<b style='color:red;'>?.</b>ElvisString <b style='color:red;'>??</b> "null");		//	ElvisString
Console.WriteLine(e<b style='color:red;'>?.</b>ElvisStringNull <b style='color:red;'>??</b> "null");	//	null

class Elvis
{
	public String ElvisString = "ElvisString";
	public String ElvisStringNull;
}
				</pre>
				<script>publish_date();</script>
				<hr />
			<h3>Boxing and Unboxing.</h3>
				<p>Below is a simple example of packaging and unpacking.</p>
				<pre>
#region Boxing_Unboxing
Int32 b = 0;
Object o = b;       // Boxing
Int32 u = (Int32)o; // Unboxing
#endregion
				</pre>
				<script>publish_date();</script>
				<hr />
			<h3>Static and Instance classes.</h3>
				<p>
					So for what it is necessary to use static classes, methods and fields ?.<br />
					If you are tasked with realizing a real-world object, use a normal class (<b>not static</b>). 
					For example, a car with such attributes as: color, speed, dimensions, etc.<br />
					If there is a task of outputting some action on the screen or say uploading data to Excel, <b>use static classes</b>, fields and methods.<br />
					<b>Example of calling a static class:</b>
				</p>
				<pre>StaticClass.StaticMethod;</pre>
				<p><b>Example of calling an instance class:</b></p>
				<pre>
InstanceClass ic = new InstanceClass();
ic.GetInstanceMethod();
				</pre>
				<script>publish_date();</script>
				<hr />
			<h3>Comparison of objects and types.</h3>
				<pre>
#region Equality
Object a1 = 5;
Object a2 = 5;
string b1 = "a";
string b2 = "a";
Object c1 = "b";
Object c2 = "b";
int d1 = 1;
int d2 = 1;

Console.WriteLine("a1 == a2: " + (a1 == a2));   // False
Console.WriteLine("b1 == b2: " + (b1 == b2));   // True
Console.WriteLine("c1 == c2: " + (c1 == c2));   // True
Console.WriteLine("d1 == d2: " + (d1 == d2));   // True

Console.WriteLine("a1 == a2: " + (a1.Equals(a2)));   // True
Console.WriteLine("b1 == b2: " + (b1.Equals(b2)));   // True
Console.WriteLine("c1 == c2: " + (c1.Equals(c2)));   // True
Console.WriteLine("d1 == d2: " + (d1.Equals(d2)));   // True

Console.WriteLine("a1 == a2: " + (ReferenceEquals(a1, a2)));   // False
Console.WriteLine("b1 == b2: " + (ReferenceEquals(b1, b2)));   // True
Console.WriteLine("c1 == c2: " + (ReferenceEquals(c1, c2)));   // True
Console.WriteLine("d1 == d2: " + (ReferenceEquals(d1, d2)));   // False
#endregion
				</pre>
				<script>publish_date();</script>
				<hr />
			<h3>Ref and Out parameters.</h3>
				<pre>
The ref and out parameters to get a more complex value.
	ref: the initialized value is passed;
	out: An uninitialized value is passed.
				</pre>
				<p>
					As an example: I use a class to unload an Excel document. <br />
					It validates the values, those values that do not fall into the specified range are cut off and written to the parameter (ref or out). <br /><br />
					Example of using the <b>ref</b> parameter:
				</p>
				<pre>
string error = "";
var excel = new ExcelPackage(FileContent);
var dt = excel.ToDataTable(ref error);

public static DataTable ToDataTable(this ExcelPackage package, ref string error)
{
	// TODO: Your logic
	error += value + ", ";
	return table;
}
				</pre>
				<p>Example of using the <b>out</b> parameter:</p>
				<pre>
string error;
var excel = new ExcelPackage(FileContent);
var dt = excel.ToDataTable(out error);

public static DataTable ToDataTable(this ExcelPackage package, out string error)
{
	error = "";

	// TODO: Your logic
	error += value + ", ";
	return table;
}
				</pre>
				<script>publish_date();</script>
				<hr />
			<h3>Web Forms SessionState.</h3>
				<p>
					Not so long ago, I was given the following task. It was necessary to correct a rarely occurring error.<br /><br />
					Unable to serialize the session state. 
					In <b>'StateServer'</b> and <b>'SQLServer'</b> mode, ASP.NET will serialize the session state objects, and as a result non-serializable objects or MarshalByRef objects are not permitted. 
					The same restriction applies if similar serialization is done by the custom session state store in 'Custom' mode.<br /><br />
					After a little thought, I started to implement it. The main problem was to write a session from the DataSet. 
					Since the DataSet was quite heavy, the corresponding error occurred at times. It was decided to save the filters. 
					Examples of the code are also laid out below.
				</p>
				<pre>
// C#:
protected void Page_Load(object sender, EventArgs e)
{
	if (!IsPostBack)
	{
		var c = new CSessionHelper();
		c.ClearSession();
	}

	if (string.IsNullOrEmpty(Session["uni_login"].ToString())) Response.Redirect(@"../login.aspx");
	if (!LoginHelper.IsAccessDoneToPage(Session["uni_login"].ToString(), Session["uni_login_type"].ToString())) Response.Redirect("../Default.aspx");

	sc_clients.ConnectionString = "Server=" + Application["sql_server"] + "; Database=" + Application["sql_database"]; User ID=" + Session["uni_login"] + "; Password=" + Session["uni_password"];
	if (!IsPostBack)
	{
		if (sc_clients.State != ConnectionState.Open)
		{
			sc_clients.Open();
			bindDropDown();
			GetValueFilter();
			sc_clients.Close();
		}
	}
}

private void GetValueFilter()
{
	try
	{
		SqlDataAdapter SqlAdapter = new SqlDataAdapter(string.Format("exec dbo.sp_your_name @UserLogin = '{0}', @Get = {1}", Session["uni_login"], true), sc_clients);
		DataTable dt = new DataTable();
		SqlAdapter.Fill(dt);

		if (dt.Rows.Count > 0)
		{
			ddl_search_distributor.SelectedValue = dt.Rows[0][2].ToString();
			ddl_teadm.SelectedValue = dt.Rows[0][3].ToString();
			tbID.Text = dt.Rows[0][4].ToString();
			tbFIO.Text = dt.Rows[0][5].ToString();
			chb_view_only_active.Checked = Convert.ToBoolean(dt.Rows[0][6]);
		}

		bindData(tbFIO.Text, Convert.ToInt32(ddl_teadm.SelectedValue), tbID.Text,
		Convert.ToInt32(ddl_search_distributor.SelectedValue));
	}
	catch (Exception ex)
	{
		error_label.Text = ex.Message;
	}
}

private void UpdateValueFilter()
{
	try
	{
		if (sc_clients.State != ConnectionState.Open) sc_clients.Open();
		using (SqlCommand command = sc_clients.CreateCommand())
		{
			command.CommandText = string.Format("exec dbo.sp_your_name @UserLogin = '{0}', @Distributor = {1}, @Team = {2}, @CodeTP = '{3}', @FIO = '{4}', @Flag = {5}",
			Session["uni_login"], Convert.ToInt32(ddl_search_distributor.SelectedValue), Convert.ToInt32(ddl_teadm.SelectedValue), tbID.Text, tbFIO.Text, chb_view_only_active.Checked);
			command.ExecuteNonQuery();
		}
		sc_clients.Close();
	}
	catch (Exception ex)
	{
		error_label.Text = ex.Message;
	}
}

private void bindData(string FIO, int team, string ID, int id_distributor)
{
	if (ds_representative1.v_representative.Count > 8000)
	{
		dg_representative.Visible = false;
		error_label.Font.Size = 14;
		error_label.Text = "The session contains too large a set of data, for correct unloading use the filter.";
	}
	else
	{
		// There was this mistake.
		Session["ds_representative"] = ds_representative1;
		error_label.Text = "";
		error_label.Font.Size = 10;
		dg_representative.Visible = true;
	}
	UpdateValueFilter();
}

// T-SQL:
USE [YourDbName]
GO

SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

SET ANSI_PADDING ON
GO

CREATE TABLE [dbo].[YourTableName](
	[Id] [int] IDENTITY(1,1) NOT NULL,
	[UserLogin] [varchar](50) NOT NULL,
	[Distributor] [int] NULL,
	[Team] [int] NULL,
	[CodeTP] [varchar](500) NULL,
	[FIO] [varchar](500) NULL,
	[Flag] [bit] NULL,
	CONSTRAINT [PK_representative_report_filter] PRIMARY KEY CLUSTERED
	(
		[Id] ASC
	) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY],
	CONSTRAINT [UQ__represen__7F8E8D5E0F3A8FCB] UNIQUE NONCLUSTERED
	(
		[UserLogin] ASC
	) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO

SET ANSI_PADDING OFF
GO
				</pre>
				<p>
					The meaning is as follows:<br />
					At authorization, we write to the table the initial data, if they are not present certainly and we take them in the controls necessary to us. If there is an entry in the database, we simply extract the data from the database and fill it with the data. As you can see, everything is quite simple.<br /><br />
					Tip: Write directly to MVC.
				</p>
				<script>publish_date();</script>
				<hr />
			<h3>API Yandex maps.</h3>
				<p>How does the Yandex Map API work? There is a file - mapReport.js in it there is a function getMapsModal. The function jerks the getMapsModal method from another file - mapReportService.js which passes control to the MapController.cs controller to retrieve the data. After processing the data, we pass the data object to the view in this way <b>$scope.maps = data;</b></p><pre>// mapReport.js<br />var getMapsModal = function (ObjectType) {<br />	mapReportService.getMapsModal(ObjectType).then(function (maps) {<br />	var data = [];<br />	maps.forEach(function (d, i) {<br />		data.push({<br />			mapId: d.mapId,<br />			objectType: d.objectType,<br />			objectName: d.objectName,<br />			objectId: d.objectId,<br />			color: d.color,<br />			geometry: {<br />				type: 'Polygon',<br />				coordinates: d.coordinates == null ? [] : JSON.parse(d.coordinates)<br />			},<br />			properties: {<br />				mapId: d.mapId,<br />				objectName: d.objectName,<br />				objectType: d.objectType,<br />				objectId: d.objectId,<br />				color: d.color<br />			}<br />		});<br />	});<br />	$scope.maps = data;<br />	});<br />};<br /><br />// mapReportService.js<br />var _mapsModal = [];<br />var _getMapsModal = function (ObjectType) {<br />	var deferred = $q.defer();<br />	$http.get("/api/maps/" + ObjectType)<br />	.then(function (result) {<br />		angular.copy(result.data, _mapsModal);<br />		deferred.resolve(result.data);<br />	},<br />	function (error) {<br />		deferred.reject(error.data);<br />	});<br />	return deferred.promise;<br />};<br /><br />return {<br />mapsModal: _mapsModal,<br />	getMapsModal: _getMapsModal,<br /><br />};<br /><br />// MapController.cs<br />[Route("{ObjectType:int}")]<br />public HttpResponseMessage GetMapsModal(int ObjectType)<br />{<br />	var currentUser = context.Users.FirstOrDefault(u =&gt; u.Login == RequestContext.Principal.Identity.Name);<br />	if (currentUser == null)<br />		return Request.CreateResponse(HttpStatusCode.Unauthorized, new { message = "Error authentication." });<br /><br />	var maps = context.Maps.Where(m =&gt; m.ObjectType == (ObjectType)ObjectType && m.Coordinates != null).Select(getMapProjection).ToList();<br /><br />	return Request.CreateResponse(HttpStatusCode.Created, maps);<br />}<br /><br />// And in the presentation made: ViewMap.cshtml<br />&lt;ya-geo-object ng-repeat="map in maps" ya-source="map" ya-options="{fillColor: '{{map.color}}',strokeColor: '#0000FF', opacity: 0.4, strokeWidth: 1.5}"&gt;&lt;/ya-geo-object&gt;</pre><script>publish_date();</script><hr /><h3>Html markup.</h3><p>Two years passed exactly, as I create my standard folder with the name "@n.khrulev" and fill it with content. I'll start according to the standard:</p><pre>&lt;html&gt;<br />&lt;head&gt;<br />	&lt;title&gt;HTML 5&lt;/title&gt;<br />&lt;/head&gt;<br />&lt;body&gt;<br />	&lt;h1&gt;HTML 5&lt;/h1&gt;<br />&lt;/body&gt;<br />&lt;/html&gt;<br /></pre><p>I will not describe anything what the h1 tag does, and why a title or body tag is needed. All literature is available at the following <a href='http://htmlbook.ru' target='_blank'>address</a>.<br />After creating the skeleton, add the styles: - file style.css</p><pre>#html5{<br />	text-align: center;<br />}<br /></pre><p>In the html code we connect an external file with the styles:</p><pre>&lt;link rel = "stylesheet" href="css/style.css" /&gt;</pre><p>Let's add a simple script (js.js), which will welcome us on our site:</p><pre>function helloHTML5(){<br />	var d = new Date();<br />	alert("Today: " + d.getDate() + "." + (d.getMonth() + 1) + "." + d.getFullYear());<br />	document.getElementById("allres").innerHTML = "all rights reserved. " + d.getFullYear() + " &copy;";<br />}</pre><p>This script returns the current date and the current year, respectively.<br />The markup (index.html) has the following appearance:</p><pre>&lt;html&gt;<br />&lt;head&gt;<br />	&lt;title&gt;HTML 5&lt;/title&gt;<br />	&lt;link rel="stylesheet" href="css/style.css" /&gt;<br />	&lt;script type="text/javascript" src="scripts/js.js"&gt;&lt;/script&gt;<br />&lt;/head&gt;<br />&lt;body onload='helloHTML5()'&gt;<br />	&lt;h1 id='html5'&gt;HTML 5&lt;/h1&gt;<br />	&lt;p id='allres'&gt;&lt;/p&gt;<br />&lt;/body&gt;<br />&lt;/html&gt;<br /></pre><p>A styles (style.css):</p><pre>#html5{<br />	text-align: center;<br />}<br /><br />#allres{<br />	text-align: center;<br />	font-family: cursive;<br />}</pre><p>So far we have not done anything. So let's start. Let's make minor changes to our markup as follows:</p><pre>&lt;html&gt;<br />&lt;head&gt;<br />	&lt;title&gt;HTML 5&lt;/title&gt;<br />	&lt;link rel="stylesheet" href="css/style.css" /&gt;<br />	&lt;script type="text/javascript" src="scripts/jquery.min.js"&gt;&lt;/script&gt;<br />	&lt;script type="text/javascript" src="scripts/pb.js"&gt;&lt;/script&gt;<br />	&lt;script type="text/javascript" src="scripts/js.js"&gt;&lt;/script&gt;<br />&lt;/head&gt;<br />&lt;body&gt;<br />	&lt;div id="container" &gt;&lt;/div&gt;<br />		&lt;div id='PreLoader'&gt;<br />		&lt;a href='http://htmlbook.ru/html5' target='_blank'&gt;&lt;h1 id='html5'&gt;&lt;/h1&gt;&lt;/a&gt;<br />		&lt;p id='today'&gt;&lt;/p&gt;<br />		&lt;p id='allres'&gt;&lt;/p&gt;<br />	&lt;/div&gt;<br />&lt;/body&gt;<br />&lt;/html&gt;<br /></pre><p>Let's change the styles:</p><pre>#PreLoader{<br />	display: none;<br />	position: fixed;<br />    	top: 50%;<br />    	left: 50%;<br />    	-webkit-transform: translate(-50%, -50%);<br />    	transform: translate(-50%, -50%);<br />}<br /><br />#container{<br />	position: fixed;<br />    	top: 50%;<br />    	left: 50%;<br />    	-webkit-transform: translate(-50%, -50%);<br />    	transform: translate(-50%, -50%);<br />}<br /><br />#allres,<br />#today<br />{<br />	font-family: cursive;<br />}<br /><br />#container {<br />	width: 175px;<br />	height: 175px;<br />	position: relative;<br />}</pre><p>Change script:</p><pre>$(window).on('load', function() {<br />	var bar = new ProgressBar.Circle(container, {<br />		color: '#aaa',<br />		strokeWidth: 3,<br />		trailWidth: 1,<br />		easing: 'easeInOut',<br />		duration: 2500,<br />		text: { autoStyleContainer: false },<br />		from: { color: '#aaa', width: 1 },<br />		to: { color: '#555', width: 3 },<br />		step: function(state, circle) {<br />			circle.path.setAttribute('stroke', state.color);<br />			circle.path.setAttribute('stroke-width', state.width);<br /><br />			var value = Math.round(circle.value() * 100);<br />			if (value === 0)<br />				circle.setText('');<br />			else<br />				circle.setText(value + "%");<br />	    }<br />	});<br />	<br />	bar.text.style.fontFamily = '"Raleway", Helvetica, sans-serif';<br />	bar.text.style.fontSize = '2rem';<br />	bar.animate(1.0);<br />    	var $preloader = $('#container');<br />	$preloader.delay(2200).fadeOut('slow');<br />	setTimeout(function() { GetDate() }, 2900);<br />});<br /><br />function GetDate(){<br />	var d = new Date();<br />	document.getElementById("today").innerHTML = "Today: " + d.getDate() + "." + (d.getMonth() + 1) + "." + d.getFullYear();<br />	document.getElementById("html5").innerHTML = "HTML 5";<br />	document.getElementById("allres").innerHTML = "all rights reserved. " + d.getFullYear() + " &copy;";<br />	document.getElementById("PreLoader").style.display="block";<br />}<br /></pre><p>The progress bar is loaded, and nothing more is visible. Once the bar has booted, I hide it and show the rest of the content.</p><script>publish_date();</script><hr /><h3>Delete the team project.</h3><p>To delete a team project, perform the following steps (you need to log in to TFS):<br />1. Select the server it looks like this: http://YOUR_NAME/visualstudio.com<br />2. Then go to the settings.<br />3. We choose the necessary project, in this case it is one, there can be much more.<br />4. Enter the name of the project to be deleted.<br />5. Done - The project has been deleted.</p><script>publish_date();</script><hr /><h3>Autocomplete.</h3><p>Today we will talk about what is auto filling. Let's start with the markup, create a blank page, call it "idx.aspx" for example. Add the following code:</p><pre><%@ Page Language="C#" AutoEventWireup="true" CodeBehind="idx.aspx.cs" Inherits="WebAppTest.idx" %><br />&lt;html&gt;<br />&lt;head&gt;<br />  &lt;title&gt;&lt;/title&gt;<br />    &lt;link rel="stylesheet" href="..//Content/jquery-ui.css"&gt;<br />    &lt;script src="..//Scripts/jquery-1.10.2.js"&gt;&lt;/script&gt;<br />    &lt;script src="..//Scripts/jquery-ui.js"&gt;&lt;/script&gt;<br />    &lt;script&gt;<br />        $(function(){<br />            var lst_reports = <%= getJson() %>;<br />            $("#reports").autocomplete({<br />                source: lst_reports<br />            });<br />        });<br />    &lt;/script&gt;<br />&lt;/head&gt;<br />&lt;body&gt;<br />    &lt;div&gt;<br />        &lt;b&gt;List reports: &lt;/b&gt;<br />        &lt;input id="reports" placeholder="Input name report..." autofocus /&gt;<br />    &lt;/div&gt;<br />&lt;/body&gt;<br />&lt;/html&gt;<br /></pre><p>The meaning is as follows, three files are added:</p><pre>&lt;link rel="stylesheet" href="..//Content/jquery-ui.css"><br />&lt;script src="..//Scripts/jquery-1.10.2.js">&lt;/script><br />&lt;script src="..//Scripts/jquery-ui.js">&lt;/script><br /></pre><p>These files are in the project folders (Content and Scripts respectively).<br />Let's go to CodeBehind and add the code below:</p><pre>using System;<br />using System.Collections.Generic;<br />using System.Linq;<br />using System.Text.RegularExpressions;<br />using System.Web;<br />using System.Web.Script.Serialization;<br />using System.Web.UI;<br />using System.Web.UI.WebControls;<br /><br />namespace WebAppTest<br />{<br />    public partial class idx : System.Web.UI.Page<br />    {<br />        protected void Page_Load(object sender, EventArgs e) { }<br /><br />        public string getJson()<br />        {<br />            List<string> r = new List<string>();<br />            for (int i = 0; i < 1000; i++)<br />                r.Add(i.ToString());<br />            <br />            return (new JavaScriptSerializer()).Serialize(r);<br />        }<br />    }<br />}</pre><p>And run our project.<br />How does it all work ?.<br />The getJson() method passes an array of the form to the client:<br />["1", "2", ..., "999"] (here there can be any other data for your search). After the input is filled with the required value, if the value is not in our array, for example, we enter 1000, then the drop-down list will be empty, otherwise it will output the result satisfying the given conditions. The autocomplete function just filters the elements we need.</p><script>publish_date();</script><hr /><h3>ASP.NET.MVC 5.</h3><p>In this post I want to share with you the following interesting project namely ASP.NET.MVC 5. We will write it on C# 6.0 framework 4.6.1. Run Visual Studio 2015 (it does not matter Ultimate / Professional) with a service pack of at least 2. In the Visual Studio menu, select File-New-Project. Select the Visual C# -Web-ASP.NET Web Application (. NET Framework) from the installed templates and click the "OK" button. In the Change Authantication settings, you must select a mode without authentication. We are waiting for the creation of the project. Delete the contents of the folder Controllers, as well as the folder Views.Home. Let's move on to the References by right-clicking on them and selecting "Manage NuGet Packages ..." in the search to find the Entity Framework and install it (the current version for the current date is 6.1.3). We agree with all the conditions. After the Entity Framework has been added, we add three classes to the Models folder with the following structure:</p><pre>public class Book<br />{<br />	public int Id { get; set; }<br />	public string Name { get; set; }<br />	public string Author { get; set; }<br />	public int Price { get; set; }<br />}<br /><br />public class Purchase<br />{<br />	public int PurchaseId { get; set; }<br />	public string Person { get; set; }<br />	public string Address { get; set; }<br />	public int BookId { get; set; }<br />	public DateTime Date { get; set; }<br />}<br /><br />public class BookContext : DbContext<br />{<br />	public DbSet<Book> Books { get; set; }<br />	public DbSet<Purchase> Purchases { get; set; }<br />}<br /></pre><p>Let's go to the App_Data folder and create our database as follows: Select App_Data, add a new "SQL Server Database" element, call "BookStore". Let's open the database and start working with it. We add a couple of tables with the following structure:</p><pre>Books:<br />CREATE TABLE [dbo].[Books] (<br />    [Id]       INT            IDENTITY (1, 1) NOT NULL,<br />    [Name]     NVARCHAR (MAX) NULL,<br />    [Author]   NVARCHAR (MAX) NULL,<br />    [Price]    INT            NOT NULL,<br />    [Download] NVARCHAR (MAX) NULL,<br />    CONSTRAINT [PK_dbo.Books] PRIMARY KEY CLUSTERED ([Id] ASC)<br />);<br /><br />Purchases:<br />CREATE TABLE [dbo].[Purchases] (<br />    [PurchaseId] INT            IDENTITY (1, 1) NOT NULL,<br />    [Person]     NVARCHAR (MAX) NULL,<br />    [Address]    NVARCHAR (MAX) NULL,<br />    [BookId]     INT            NOT NULL,<br />    [Date]       DATETIME       NOT NULL,<br />    CONSTRAINT [PK_dbo.Purchases] PRIMARY KEY CLUSTERED ([PurchaseId] ASC)<br />);</pre><p>Fill in the "Books" table with data, for example:</p><table border='1'><tr><th>Id</th><th>Name</th><th>Author</th><th>Price</th></tr><tr><td>1</td><td>War and Peace by</td><td>L. Tolstoy</td><td>220</td></tr><tr><td>2</td><td>Fathers and children</td><td>I. Turgenev</td><td>180</td></tr><tr><td>3</td><td>Seagull</td><td>A. Chekhov</td><td>150</td></tr><tr><td>4</td><td>C# 4.0</td><td>G. Schildt</td><td>385</td></tr><tr><td>5</td><td>C# 4.5</td><td>R. Richter</td><td>500</td></tr></table><br /><p>Let's return to the "Controllers" folder and add a new controller "MVC 5 Controller with views, using Entity Framework". After that, Visual Studio will generate a viewer with views, we will only have to run the project and see how it works. Press F5. In working capacity, you can rest assured that everything works like a clock. If it is interesting to play around with the addition of new data, editing, deleting and changing. Well, I think the controller code should be provided for general review:</p><pre>using System;<br />using System.Collections.Generic;<br />using System.Data;<br />using System.Data.Entity;<br />using System.Linq;<br />using System.Threading.Tasks;<br />using System.Net;<br />using System.Web;<br />using System.Web.Mvc;<br />using BookStoreAuto.Models;<br /><br />namespace BookStoreAuto.Controllers<br />{<br />    public class HomeController : Controller<br />    {<br />        private BookContext db = new BookContext();<br /><br />        // GET: Home<br />        public async Task<ActionResult> Index()<br />        {<br />            return View(await db.Books.ToListAsync());<br />        }<br /><br />        // GET: Home/Details/5<br />        public async Task<ActionResult> Details(int? id)<br />        {<br />            if (id == null)<br />            {<br />                return new HttpStatusCodeResult(HttpStatusCode.BadRequest);<br />            }<br />            Book book = await db.Books.FindAsync(id);<br />            if (book == null)<br />            {<br />                return HttpNotFound();<br />            }<br />            return View(book);<br />        }<br /><br />        // GET: Home/Create<br />        public ActionResult Create()<br />        {<br />            return View();<br />        }<br /><br />        // POST: Home/Create<br />        // To protect from overposting attacks, please enable the specific properties you want to bind to, for <br />        // more details see http://go.microsoft.com/fwlink/?LinkId=317598.<br />        [HttpPost]<br />        [ValidateAntiForgeryToken]<br />        public async Task<ActionResult> Create([Bind(Include = "Id,Name,Author,Price")] Book book)<br />        {<br />            if (ModelState.IsValid)<br />            {<br />                db.Books.Add(book);<br />                await db.SaveChangesAsync();<br />                return RedirectToAction("Index");<br />            }<br /><br />            return View(book);<br />        }<br /><br />        // GET: Home/Edit/5<br />        public async Task<ActionResult> Edit(int? id)<br />        {<br />            if (id == null)<br />            {<br />                return new HttpStatusCodeResult(HttpStatusCode.BadRequest);<br />            }<br />            Book book = await db.Books.FindAsync(id);<br />            if (book == null)<br />            {<br />                return HttpNotFound();<br />            }<br />            return View(book);<br />        }<br /><br />        // POST: Home/Edit/5<br />        // To protect from overposting attacks, please enable the specific properties you want to bind to, for <br />        // more details see http://go.microsoft.com/fwlink/?LinkId=317598.<br />        [HttpPost]<br />        [ValidateAntiForgeryToken]<br />        public async Task<ActionResult> Edit([Bind(Include = "Id,Name,Author,Price")] Book book)<br />        {<br />            if (ModelState.IsValid)<br />            {<br />                db.Entry(book).State = EntityState.Modified;<br />                await db.SaveChangesAsync();<br />                return RedirectToAction("Index");<br />            }<br />            return View(book);<br />        }<br /><br />        // GET: Home/Delete/5<br />        public async Task<ActionResult> Delete(int? id)<br />        {<br />            if (id == null)<br />            {<br />                return new HttpStatusCodeResult(HttpStatusCode.BadRequest);<br />            }<br />            Book book = await db.Books.FindAsync(id);<br />            if (book == null)<br />            {<br />                return HttpNotFound();<br />            }<br />            return View(book);<br />        }<br /><br />        // POST: Home/Delete/5<br />        [HttpPost, ActionName("Delete")]<br />        [ValidateAntiForgeryToken]<br />        public async Task<ActionResult> DeleteConfirmed(int id)<br />        {<br />            Book book = await db.Books.FindAsync(id);<br />            db.Books.Remove(book);<br />            await db.SaveChangesAsync();<br />            return RedirectToAction("Index");<br />        }<br /><br />        protected override void Dispose(bool disposing)<br />        {<br />            if (disposing)<br />            {<br />                db.Dispose();<br />            }<br />            base.Dispose(disposing);<br />        }<br />    }<br />}<br /></pre><p>All I had to write: So this is to create three classes (Book, Purchase, BookContext), add 2 tables (dbo.Books, dbo.Purchases) and just put the daws and specify the path to the page template when creating the controller. On this I will finish this article. All questions you can address <a href='mailto:hru91nik@mail.ru'>here</a>.</p><script>publish_date();</script><hr /><h3>Principles of SOLID.</h3><pre><b>S - Single Responsibility Principle</b> {<br />	The class must have only one reason for the change.<br />}<br /><b>O - Open / Closed Principle</b> {<br />	The essence of the program should be open for extension, but closed for modification.<br />}<br /><b>L - Liskov Substitution Principle</b> {<br />	It should be possible to substitute, instead of the base type of any subtype thereof.<br />}<br /><b>I - Interface Segregation Principle</b> {<br />	Customers should not forced to depend on methods that do not use.<br />}<br /><b>D - Dependency Inversion Principle</b> {<br />	The top-level modules should not depend on the lower-level modules.<br />	Both must depend on abstractions.<br />	Abstractions should not depend on details.<br />	Details should depend on abstractions.<br />}</pre><script>publish_date();</script><hr /><h3>C# base code.</h3><p>If you consider yourself a competent specialist, then answer the following questions: <br />1. What does this code do ?.<br />2. Is it possible to perform a review ?.<br />3. Is refactoring possible ?.</p><pre>public static List<Period> ApplyLogicalAnd(Period dtPair, List<Period> justification)<br />{<br />    var justified = new List<Period>();<br />    var pieces = new Stack<Period>();<br />    pieces.Push(dtPair);<br /><br />    while (pieces.Count > 0)<br />    {<br />        var ipiece = pieces.Pop();<br />        foreach (var jpair in justification)<br />        {<br />            // justification affects time piece<br />            if (ipiece.Begin < jpair.End && ipiece.End > jpair.Begin)<br />            {<br />                if (ipiece.Begin >= jpair.Begin && ipiece.End <= jpair.End)<br />                {<br />                    // piece is inside<br />                    justified.Add(ipiece);<br />                }<br />                else<br />                {<br />                    DateTime jbegin;<br />                    DateTime jend;<br /><br />                    if (ipiece.Begin < jpair.Begin)<br />                    {<br />                        jbegin = jpair.Begin;<br />                        pieces.Push(new Period(ipiece.Begin, jpair.Begin));<br />                    }<br />                    else<br />                    {<br />                        jbegin = ipiece.Begin;<br />                    }<br />                    if (ipiece.End > jpair.End)<br />                    {<br />                        jend = jpair.End;<br />                        pieces.Push(new Period(jpair.End, ipiece.End));<br />                    }<br />                    else<br />                    {<br />                        jend = ipiece.End;<br />                    }<br /><br />                    if (jbegin != jend)<br />                    {<br />                        justified.Add(new Period(jbegin, jend));<br />                    }<br />                }<br />                // proceed with different pieces<br />                break;<br />            }<br />        }<br />    }<br /><br />    return justified;<br /><br />}</pre><p>For those who do not consider themselves as such, the answer is below:</p><pre>using System;<br />using System.Collections.Generic;<br /><br />namespace ConsoleApp<br />{<br />    internal class Program<br />    {<br />		<br />	// Test right here, so as not to drag dependencies<br />        private static void Main(string[] args)<br />        {<br />            var workTime = new Period(new TimeSpan(9, 0, 0), new TimeSpan(18, 0, 0));<br />            var inside = new Period(new TimeSpan(10, 0, 0), new TimeSpan(11, 0, 0));<br />            var outside = new Period(new TimeSpan(08, 0, 0), new TimeSpan(19, 0, 0));<br />            var includesStart = new Period(new TimeSpan(08, 0, 0), new TimeSpan(10, 0, 0));<br />            var includesEnd = new Period(new TimeSpan(15, 0, 0), new TimeSpan(20, 0, 0));<br />            var later = new Period(new TimeSpan(20, 0, 0), new TimeSpan(21, 0, 0));<br />            var before = new Period(new TimeSpan(07, 0, 0), new TimeSpan(08, 0, 0));<br /><br />            var periods = new List<Period> {<br />                inside, outside, includesStart, includesEnd, later, before };<br /><br />            Console.WriteLine("New");<br />            foreach (var period in ApplyLogicalAnd2(workTime, periods))<br />                Console.WriteLine(period);<br />            Console.WriteLine("Old");<br />            foreach (var period in ApplyLogicalAnd(workTime, periods))<br />                Console.WriteLine(period);<br /><br />            Console.Read();<br />        }<br /><br />        // New version<br />        internal static IEnumerable<Period> ApplyLogicalAnd2(Period thePeriod, IEnumerable<Period> periods)<br />        {<br />            var crossings = new List<Period>();<br />            foreach (var period in periods)<br />                FindCrossings(thePeriod, crossings, period);<br />            return crossings;<br />        }<br /><br />        private static void FindCrossings(Period thePeriod, IList<Period> crossings, Period period)<br />        {<br />            if (thePeriod.IsInside(period) || period.IsInside(thePeriod))<br />                crossings.Add(period);<br />            else if (period.IncludesStart(thePeriod))<br />                crossings.Add(new Period(thePeriod.Start, period.End));<br />            else if (period.IncludesEnd(thePeriod))<br />                crossings.Add(new Period(period.Start, thePeriod.End));<br />        }<br /><br />        // Original code<br />	// When studying, we understand that we are looking for the intersection of an interval with a list of intervals.<br />        public static List<Period> ApplyLogicalAnd(Period dtPair, List<Period> justification)<br />        {<br />            var justified = new List<Period>();<br />            var pieces = new Stack<Period>();<br />            pieces.Push(dtPair);<br /><br />            while (pieces.Count > 0)<br />            {<br />                var ipiece = pieces.Pop();<br />                foreach (var jpair in justification)<br />                {<br />                    // justification affects time piece<br />                    if (ipiece.Start < jpair.End && ipiece.End > jpair.Start)<br />                    {<br />                        if (ipiece.Start >= jpair.Start && ipiece.End <= jpair.End)<br />                        {<br />                            // piece is inside<br />                            justified.Add(ipiece);<br />                        }<br />                        else<br />                        {<br /><br />                            TimeSpan jbegin;<br />                            TimeSpan jend;<br /><br />                            if (ipiece.Start < jpair.Start)<br />                            {<br />                                jbegin = jpair.Start;<br />                                pieces.Push(new Period(ipiece.Start, jpair.Start));<br />                            }<br />                            else<br />                            {<br />                                jbegin = ipiece.Start;<br />                            }<br />                            if (ipiece.End > jpair.End)<br />                            {<br />                                jend = jpair.End;<br />                                pieces.Push(new Period(jpair.End, ipiece.End));<br />                            }<br />                            else<br />                            {<br />                                jend = ipiece.End;<br />                            }<br /><br />                            if (jbegin != jend)<br />                            {<br />                                justified.Add(new Period(jbegin, jend));<br />                            }<br />                        }<br />                        // proceed with different pieces<br />                        break;<br />                    }<br />                }<br />            }<br /><br />            return justified;<br />        }<br />    }<br /><br />    // TODO use generic or ready-made<br />    internal class Period<br />    {<br />        internal TimeSpan Start { get; private set; }<br />        internal TimeSpan End { get; private set; }<br /><br />        internal Period() { }<br /><br />	// TODO add the invariant: start> end<br />        internal Period(TimeSpan start, TimeSpan end)<br />        {<br />            Start = start;<br />            End = end;<br />        }<br /><br />        public override string ToString()<br />        {<br />            return Start + " " + End;<br />        }<br /><br />        internal bool IsInside(Period another)<br />        {<br />            return another.Start <= Start && End <= another.End;<br />        }<br /><br />        internal bool IncludesStart(Period another)<br />        {<br />            return another.Start < End && Start < another.Start && End < another.End;<br />        }<br /><br />        internal bool IncludesEnd(Period another)<br />        {<br />            return Start < another.End && another.Start < Start && another.End < End;<br />        }<br />    }<br />}</pre><script>publish_date();</script><hr /><h3>Optimization TabControl.</h3><p>Most recently I had to face the following task: 'It is necessary to fill TabControl with a list at once'. That is, do not use foreach. I implemented the filling of TabControl as follows:</p><pre>Linq = (<br />	From q In db.databasess<br />	Select New TabPage(q.name)<br />).ToList().Where(<br />	Function(x) GetColor(x.Text) = Color.Gray<br />).ToArray(); <br /><br />TabRole.TabPages.AddRange(Linq);</pre><p>As you can see, the solution turned out to be in a couple of lines. And the productivity with this has greatly increased.</p><script>publish_date();</script>
			
			<script>foo();</script>
		</div>
	</body>
</html>